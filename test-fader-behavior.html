<!DOCTYPE html>
<html>
<head>
    <title>Fader Test</title>
    <style>
        body { background: #1a1a1a; color: #fff; font-family: monospace; padding: 20px; }
        .test-container { display: flex; gap: 40px; margin: 20px 0; }
        .fader-wrapper { display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .fader-container { 
            position: relative; 
            height: 180px; 
            width: 80px;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: flex-start;
            padding: 0;
            gap: 6px;
            border: 1px solid #444;
            background: #2a2a2a;
        }
        .fader-track { 
            width: 6px; 
            height: 100%;
            background: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
            border-radius: 2px;
            position: relative;
        }
        .fader-thumb { 
            width: 24px; 
            height: 32px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(to bottom, #666, #444, #333, #555);
            border-radius: 3px;
            cursor: grab;
            z-index: 20;
        }
        .fader-thumb::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            height: 2px;
            background-color: #00d4ff;
            box-shadow: 0 0 4px rgba(0, 212, 255, 0.8);
        }
        .fader-scale {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            font-size: 10px;
            padding: 2px 0;
        }
        .fader-scale-mark { display: flex; align-items: center; gap: 4px; }
        .fader-scale-tick { width: 4px; height: 1px; background: #666; }
        .fader-scale-label { color: #999; }
        .info { margin: 10px 0; padding: 10px; background: #333; border-radius: 4px; }
    </style>
</head>
<body>
    <h2>Fader Positioning Test</h2>
    <div class="info" id="info">
        Container: 180px tall<br>
        Thumb: 32px tall (halfThumb: 16px)<br>
        Effective range: 148px (16px to 164px)<br>
        <br>
        <strong>Expected behavior:</strong><br>
        • TOP (y=16px, volume=100%) → bottom CSS = 148px<br>
        • MIDDLE (y=90px, volume=50%) → bottom CSS = 74px<br>
        • BOTTOM (y=164px, volume=0%) → bottom CSS = 0px
    </div>
    
    <div class="test-container">
        <div class="fader-wrapper">
            <div>Volume: 100% (TOP)</div>
            <div class="fader-container">
                <div class="fader-track">
                    <div class="fader-thumb" style="bottom: 148px;"></div>
                </div>
                <div class="fader-scale">
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">60</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">50</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">40</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">30</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">20</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">10</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">0</span></div>
                </div>
            </div>
        </div>
        
        <div class="fader-wrapper">
            <div>Volume: 50% (MIDDLE)</div>
            <div class="fader-container">
                <div class="fader-track">
                    <div class="fader-thumb" style="bottom: 74px;"></div>
                </div>
                <div class="fader-scale">
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">60</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">50</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">40</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">30</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">20</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">10</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">0</span></div>
                </div>
            </div>
        </div>
        
        <div class="fader-wrapper">
            <div>Volume: 0% (BOTTOM)</div>
            <div class="fader-container">
                <div class="fader-track">
                    <div class="fader-thumb" style="bottom: 0px;"></div>
                </div>
                <div class="fader-scale">
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">60</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">50</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">40</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">30</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">20</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">10</span></div>
                    <div class="fader-scale-mark"><span class="fader-scale-tick"></span><span class="fader-scale-label">0</span></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Check if thumbs are positioned correctly
        const thumbs = document.querySelectorAll('.fader-thumb');
        thumbs.forEach((thumb, i) => {
            const rect = thumb.getBoundingClientRect();
            const container = thumb.closest('.fader-container').getBoundingClientRect();
            console.log(`Thumb ${i}: bottom=${thumb.style.bottom}, actualTop=${rect.top - container.top}px`);
        });
    </script>
</body>
</html>
